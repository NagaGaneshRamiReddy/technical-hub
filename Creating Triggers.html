
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="aws.css">
    <link rel="stylesheet" href="body.css">
    <title>SQL Roadmap</title>
    
    </head>
    <body class="body">

   
        <header>
            <div class="logo-container">
                <div class="tree">
                    <div class="trunk"></div>
                    <div class="leaves"></div>
                </div>
                <div class="text">TreeLearners</div>
                
    
        <div id="main" class="main">
            <button class="openbtn" onclick="openNav()">&#9776;</button>
            <button class="openbtn homebtn" onclick="goHome()">
                &#8962; Home
            </button>
            <button class="openbtn compbtn" onclick="gocomp()">
                <i class="fas fa-code"></i> SQL Compiler
            </button>
            <button class="openbtn videobtn" onclick="govideo()">
                <i class="fas fa-video"></i> Video
            </button>
            <button class="openbtn labs" onclick="goprojects()">
           
                <i class="fas fa-folder-open"></i> Projects
            </button>
            <button class="openbtn interviewbtn" onclick="gointerviewpro()">
                <i class="fas fa-user-tie"></i> Interview Preparation
            </button>
            <button class="openbtn quizbtn" onclick="goquizpro()">
                <i class="fas fa-question-circle"></i> SQL Quiz
            </button>
        </div>
            </div>
        </header>
        
        <header>
            <div class="logo-container">
                <div class="tree">
                    <div class="trunk"></div>
                    <div class="leaves"></div>
                </div>
                <div class="text">TreeLearners</div>
                </div></header>
        <div id="mySidebar" class="sidebar">
            <!-- Top Box with Icon and Title -->
            <div class="top-box">
                <i class="fas fa-database" style="font-size: 60px;padding-left: 16px; color: #e27f05;"></i>
                <h2 class="jk">SQL Tutorial</h2>
            </div>
        
            <!-- Close button and sidebar content -->
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        
            
    
        <a href="SQLRoadmaps.html" target="_blank"><b class="b12">SQL Roadmap</b></a>
        
            <ul>
                 
        <a href="Introduction to SQL.html">Introduction to SQL</a>
            <li><a href="What is SQL.html">What is SQL?</a></li>
            <li><a href="History of SQL.html">History of SQL</a></li>
            <li><a href="Installing SQL.html">Installing SQL</a></li>
            <li><a href="SQL Syntax.html">SQL Syntax</a></li>
        </ul>
    
        <h3>Basic SQL Commands</h3>
        <a href="Basic SQL Commands.html">Basic SQL Commands</a>
        <ul>
            <li><a href="SELECT Statement.html">SELECT Statement</a></li>
            <li><a href="WHERE Clause.html">WHERE Clause</a></li>
            <li><a href="ORDER BY Clause.html">ORDER BY Clause</a></li>
            <li><a href="INSERT INTO Statement.html">INSERT INTO Statement</a></li>
            <li><a href="UPDATE Statement.html">UPDATE Statement</a></li>
            <li><a href="DELETE Statement.html">DELETE Statement</a></li>
        </ul>
    
        <h3>Advanced SQL Commands</h3>
        <a href="Advanced SQL Commands.html">Advanced SQL Commands</a>
        <ul>
            <li>
                <a href="JOINS.html">JOINS</a>
                <ul>
                    <li><a href="INNER JOIN.html">INNER JOIN</a></li>
                    <li><a href="LEFT JOIN.html">LEFT JOIN</a></li>
                    <li><a href="RIGHT JOIN.html">RIGHT JOIN</a></li>
                    <li><a href="FULL JOIN.html">FULL JOIN</a></li>
                </ul>
            </li>
            <li><a href="UNION.html">UNION</a></li>
            <li><a href="GROUP BY.html">GROUP BY</a></li>
            <li><a href="HAVING Clause.html">HAVING Clause</a></li>
            <li><a href="SUBQUERIES.html">SUBQUERIES</a></li>
            <li><a href="Indexes.html">Indexes</a></li>
        </ul>
    
        <h3>Database Design</h3>
        <a href="Database Design.html">Database Design</a>
        <ul>
            <li><a href="normalization_sql.html">Normalization</a></li>
            <li><a href="ER Models.html">ER Models</a></li>
            <li><a href="Primary and Foreign Keys.html">Primary and Foreign Keys</a></li>
            <li><a href="datatypes_sql.html".html">Data Types</a></li>
        </ul>
    
        <h3>Functions in SQL</h3>
        <a href="Functions in SQL.html">Functions in SQL</a>
        <ul>
            <li><a href="Aggregate Functions.html">Aggregate Functions</a></li>
            <li><a href="String Functions.html">String Functions</a></li>
            <li><a href="Date Functions.html">Date Functions</a></li>
            <li><a href="Mathematical Functions.html">Mathematical Functions</a></li>
            <li><a href="Conversion Functions.html">Conversion Functions</a></li>
        </ul>
    
        <h3>Stored Procedures and Triggers</h3>
        <a href="Stored Procedures and Triggers.html">Stored Procedures and Triggers</a>
        <ul>
            <li><a href="Creating Stored Procedures.html">Creating Stored Procedures</a></li>
            <li><a href="Executing Stored Procedures.html">Executing Stored Procedures</a></li>
            <li><a href="Creating Triggers.html">Creating Triggers</a></li>
            <li><a href="Triggering Events.html">Triggering Events</a></li>
        </ul>
    
        <h3>Transactions in SQL</h3>
        <a href="Transactions in SQL.html">Transactions in SQL</a>
        <ul>
            <li><a href="Transaction Control Commands.html">Transaction Control Commands</a></li>
            <li><a href="COMMIT.html">COMMIT</a></li>
            <li><a href="ROLLBACK.html">ROLLBACK</a></li>
            <li><a href="SAVEPOINT.html">SAVEPOINT</a></li>
            <li><a href="SET TRANSACTION.html">SET TRANSACTION</a></li>
        </ul>
    
        <h3>Performance Tuning</h3>
        <a href="Performance Tuning_sql.html">Performance Tuning</a>
        <ul>
            <li><a href="Query Optimization.html">Query Optimization</a></li>
            <li><a href="Indexing Strategies.html">Indexing Strategies</a></li>
            <li><a href="Analyzing Query Plans.html">Analyzing Query Plans</a></li>
            <li><a href="Partitioning.html">Partitioning</a></li>
            <li><a href="Caching.html">Caching</a></li>
        </ul>
    
        <h3>Advanced Topics</h3>
        <a href="Advanced Topics_sql.html">Advanced Topics</a>
        <ul>
            <li><a href="Views.html">Views</a></li>
            <li><a href="Materialized Views.html">Materialized Views</a></li>
            <li><a href="Data Warehousing.html">Data Warehousing</a></li>
            <li><a href="NoSQL Databases.html">NoSQL Databases</a></li>
            <li><a href="Big Data and SQL.html">Big Data and SQL</a></li>
        </ul>
    </div>
    
    
        <script>
    
            function openNav() {
                document.getElementById("mySidebar").style.left = "0";
                document.getElementById("main").classList.add("sidebar-open");
            }
            function closeNav() {
                document.getElementById("mySidebar").style.left = "-250px";
                document.getElementById("main").classList.remove("sidebar-open");
            }
    
        
            function toggleSubtopics(event) {
                const stage = event.currentTarget;
                const subtopics = stage.nextElementSibling;
                subtopics.classList.toggle('show');
            }
    
           
            function goHome() {
        window.location.href = "index.html";
    }
    function gointerviewpro() {
        window.location.href = "SQL_interviews.html";
    }
    function goquizpro() {
        window.location.href = "SQL_quiz.html";
    }
    function goprojects() {
        window.location.href = "SQL_project.html";
    }
    function gocomp() {
        window.location.href = "SQl Compiler.html";
    }
    function goPrevious() {
        window.location.href = "Executing Stored Procedures.html";
    }
    function goNext() {
        window.location.href ="Triggering Events.html";
    }
        </script>
        <div class="container-1">
        <div class="content"> <div class="top-box1">
            <i class="fas fa-database" style="font-size: 70px;padding-left: 16px;  color: #07fe45;"></i>
            <h2 class="jk">SQL Tutorial</h2><div class="div1">Creating Triggers</div></div>
        <div id="main1" class="main1">
            <button class="openbtn prevbtn1" onclick="goPrevious()">&#9664; Previous</button>
            <button class="openbtn nextbtn1" onclick="goNext()">&#9654; Next</button>
        </div>
    
<h2>Creating Triggers in SQL</h2>
<p>A <strong>Trigger</strong> is a special type of stored procedure that automatically executes in response to specific events on a table or view, such as insertions, updates, or deletions. Triggers are used to enforce business rules, maintain audit logs, and synchronize tables.</p>

<h2>Basic Syntax</h2>
<p>The basic syntax for creating a trigger is:</p>
<pre>
CREATE TRIGGER trigger_name
ON table_name
[AFTER | BEFORE | INSTEAD OF] {INSERT | UPDATE | DELETE}
AS
BEGIN
    -- Trigger logic
END;
</pre>

<h2>Creating a Simple Trigger</h2>
<p>Here’s an example of a trigger that automatically logs changes to an audit table when an employee record is inserted:</p>
<pre>
CREATE TRIGGER trgAfterInsert
ON Employees
AFTER INSERT
AS
BEGIN
    INSERT INTO AuditLog (Action, EmployeeID, ActionDate)
    SELECT 'INSERT', EmployeeID, GETDATE()
    FROM inserted;
END;
</pre>

<h2>Types of Triggers</h2>

<h3>AFTER Trigger</h3>
<p>An <strong>AFTER Trigger</strong> runs after the specified event (INSERT, UPDATE, DELETE) has been completed. It is often used to perform actions that need to occur after the data modification:</p>
<pre>
CREATE TRIGGER trgAfterUpdate
ON Employees
AFTER UPDATE
AS
BEGIN
    INSERT INTO AuditLog (Action, EmployeeID, ActionDate)
    SELECT 'UPDATE', EmployeeID, GETDATE()
    FROM inserted;
END;
</pre>

<h3>BEFORE Trigger</h3>
<p>A <strong>BEFORE Trigger</strong> runs before the specified event occurs. It can be used to validate or modify data before it is committed:</p>
<pre>
CREATE TRIGGER trgBeforeInsert
ON Employees
BEFORE INSERT
AS
BEGIN
    IF EXISTS (SELECT * FROM inserted WHERE Salary < 0)
    BEGIN
        RAISERROR ('Salary cannot be negative.', 16, 1);
        ROLLBACK TRANSACTION;
    END
END;
</pre>

<h3>INSTEAD OF Trigger</h3>
<p>An <strong>INSTEAD OF Trigger</strong> replaces the standard action (INSERT, UPDATE, DELETE) with the trigger’s logic. It is useful for overriding default behavior:</p>
<pre>
CREATE TRIGGER trgInsteadOfDelete
ON Employees
INSTEAD OF DELETE
AS
BEGIN
    INSERT INTO DeletedEmployees (EmployeeID, Name, TerminationDate)
    SELECT EmployeeID, Name, GETDATE()
    FROM deleted;
END;
</pre>

<h2>Modifying a Trigger</h2>
<p>To modify an existing trigger, use the <code>ALTER TRIGGER</code> statement. Here’s an example of adding additional logic to an existing trigger:</p>
<pre>
ALTER TRIGGER trgAfterInsert
ON Employees
AFTER INSERT
AS
BEGIN
    INSERT INTO AuditLog (Action, EmployeeID, ActionDate)
    SELECT 'INSERT', EmployeeID, GETDATE()
    FROM inserted;

    -- Additional logic
    UPDATE Employees
    SET Status = 'Active'
    WHERE EmployeeID IN (SELECT EmployeeID FROM inserted);
END;
</pre>

<h2>Dropping a Trigger</h2>
<p>To delete a trigger, use the <code>DROP TRIGGER</code> statement:</p>
<pre>
DROP TRIGGER trgAfterInsert;
</pre>

<h2>Examples of Trigger Usage</h2>

<h3>Logging Changes</h3>
<p>Automatically log updates to an employee’s information:</p>
<pre>
CREATE TRIGGER trgAfterUpdate
ON Employees
AFTER UPDATE
AS
BEGIN
    INSERT INTO AuditLog (Action, EmployeeID, ActionDate, OldSalary, NewSalary)
    SELECT 'UPDATE', i.EmployeeID, GETDATE(), d.Salary, i.Salary
    FROM inserted i
    JOIN deleted d ON i.EmployeeID = d.EmployeeID;
END;
</pre>

<h3>Preventing Invalid Data</h3>
<p>Prevent inserting employees with invalid salary values:</p>
<pre>
CREATE TRIGGER trgBeforeInsert
ON Employees
BEFORE INSERT
AS
BEGIN
    IF EXISTS (SELECT * FROM inserted WHERE Salary < 0)
    BEGIN
        RAISERROR ('Salary must be a positive number.', 16, 1);
        ROLLBACK TRANSACTION;
    END
END;
</pre>

<h2>Learning Resources</h2>
<div class="resources">
    <ul>
        <li><a href="https://www.w3schools.com/sql/sql_triggers.asp" target="_blank">SQL Triggers - W3Schools</a></li>
        <li><a href="https://docs.microsoft.com/en-us/sql/t-sql/statements/create-trigger-transact-sql" target="_blank">CREATE TRIGGER (Transact-SQL) - Microsoft Docs</a></li>
        <li><a href="https://dev.mysql.com/doc/refman/8.0/en/create-trigger.html" target="_blank">CREATE TRIGGER - MySQL Documentation</a></li>
        <li><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/ddl/CREATE-TRIGGER.html" target="_blank">CREATE TRIGGER - Oracle Documentation</a></li>
    </ul>
</div>

<h2>Summary</h2>
<p>Creating triggers in SQL enables automatic execution of actions in response to specific database events. Triggers help enforce business rules, maintain data integrity, and automate processes. Understanding how to create, modify, and manage triggers is essential for effective database design and management.</p>
<div id="main1" class="main1">
    <button class="openbtn prevbtn1" onclick="goPrevious()">&#9664; Previous</button>
    <button class="openbtn nextbtn1" onclick="goNext()">&#9654; Next</button>
</div>
</div>
